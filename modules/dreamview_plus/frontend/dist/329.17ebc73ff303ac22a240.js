"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[329],{40329:(e,n,r)=>{r.r(n),r.d(n,{DashBoard:()=>L,DashBoardOrigin:()=>F});var o=r(40366),t=r.n(o),a=r(23218),l=r(60346),i=r(46533),s=function(e){return e.MANUAL="MANUAL",e.AUTO="AUTO",e.DISENGAGED="DISENGAGED",e.AUTO_STEER="AUTO STEER",e.AUTO_SPEED="AUTO SPEED",e.CHASSIS_ERROR="CHASSIS ERROR",e.UNKNOWN="UNKNOWN",e}({});function c(e){var n=(0,a.f2)((function(e){return{"dashboard-drive-mode":{display:"flex",flex:"1",justifyContent:"center",alignItems:"center",background:e.components.dashBoard.cardBgColor,borderRadius:"6px",fontFamily:"PingFangSC-Semibold",fontSize:"14px",color:e.components.dashBoard.color,fontWeight:600,height:"100%"},error:{color:e.tokens.colors.error2},info:{color:e.tokens.colors.brand3},warn:{color:e.tokens.colors.warn2}}}))().classes;return t().createElement("div",{className:n["dashboard-drive-mode"]},e.mode)}const d=t().memo(c);var u=r(83802);function g(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,o=Array(n);r<n;r++)o[r]=e[r];return o}var f=function(e){return e.NO_SIGNALS="NO SIGNALS",e.UNKNOWN="UNKNOWN",e.RED="RED",e.YELLOW="YELLOW",e.GREEN="GREEN",e}({});function m(e){var n,r,l=(0,a.f2)((function(e){return{"dashboard-signal":{display:"flex",flex:"1",justifyContent:"center",alignItems:"center",background:e.components.dashBoard.cardBgColor,borderRadius:"6px",fontFamily:"PingFangSC-Semibold",fontSize:"14px",color:e.components.dashBoard.color,fontWeight:600,width:"100%",height:"100%"},error:{color:e.tokens.colors.error2},info:{color:e.tokens.colors.brand3},warn:{color:e.tokens.colors.warn2}}}))().classes,i=(n=(0,u.XE)(["icon_green_light","icon_yellow_light","icon_red_light"]),r=3,function(e){if(Array.isArray(e))return e}(n)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,t,a,l,i=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;s=!1}else for(;!(s=(o=a.call(r)).done)&&(i.push(o.value),i.length!==n);s=!0);}catch(e){c=!0,t=e}finally{try{if(!s&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw t}}return i}}(n,r)||function(e,n){if(e){if("string"==typeof e)return g(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],c=i[1],d=i[2],m=(0,o.useMemo)((function(){switch(e.signal){case f.GREEN:return t().createElement(t().Fragment,null,t().createElement("img",{style:{width:18,height:18},src:s,alt:"green light"})," GREEN");case f.YELLOW:return t().createElement(t().Fragment,null,t().createElement("img",{style:{width:18,height:18},src:c,alt:"yellow light"})," YELLOW");case f.RED:return t().createElement(t().Fragment,null,t().createElement("img",{style:{width:18,height:18},src:d,alt:"green light"})," RED");case f.UNKNOWN:return t().createElement(t().Fragment,null,"UNKNOWN");default:return t().createElement(t().Fragment,null,"NO SIGNALS")}}),[e]);return t().createElement("div",{className:l["dashboard-signal"]},m)}const h=t().memo(m);var p=function(e){return e.P="P",e.R="R",e.D="D",e.N="N",e}({});function E(e){switch(e){case"GEAR_PARKING":return p.P;case"GEAR_REVERSE":return p.R;case"GEAR_DRIVE":return p.D;default:return p.N}}function b(e){var n=(0,a.f2)((function(e){return{"dashboard-gear":{display:"flex",flex:"1",justifyContent:"space-between",alignItems:"center",columnGap:"15px",background:e.components.dashBoard.cardBgColor,borderRadius:"6px",fontFamily:"PingFangSC-Semibold",fontSize:"14px",color:e.components.dashBoard.color,fontWeight:600,width:"100%",height:"100%"},"dashboard-gear-position":{width:"24px",height:"24px",lineHeight:"24px",textAlign:"center"},"dashboard-gear-position-active":{width:"24px",height:"24px",borderRadius:"4px",background:"#3288FA",color:"#fff",lineHeight:"24px",textAlign:"center"},error:{color:e.tokens.colors.error2},info:{color:e.tokens.colors.brand3},warn:{color:e.tokens.colors.warn2}}}))().classes;return t().createElement("div",{className:n["dashboard-gear"]},t().createElement("div",{style:{marginLeft:12},className:E(null==e?void 0:e.gearPosition)===p.P?n["dashboard-gear-position-active"]:n["dashboard-gear-position"]},"P"),t().createElement("div",{className:E(null==e?void 0:e.gearPosition)===p.R?n["dashboard-gear-position-active"]:n["dashboard-gear-position"]},"R"),t().createElement("div",{className:E(null==e?void 0:e.gearPosition)===p.D?n["dashboard-gear-position-active"]:n["dashboard-gear-position"]},"D"),t().createElement("div",{style:{marginRight:12},className:E(null==e?void 0:e.gearPosition)===p.N?n["dashboard-gear-position-active"]:n["dashboard-gear-position"]},"N"))}const v=t().memo(b);function S(e){var n=(0,a.f2)((function(e){return{"dash-board-signal-gear":{display:"flex",flexDirection:"row",flex:"1",columnGap:"10px",height:"100%",width:"100%"},error:{color:e.tokens.colors.error2},info:{color:e.tokens.colors.brand3},warn:{color:e.tokens.colors.warn2}}}))().classes;return t().createElement("div",{className:n["dash-board-signal-gear"]},t().createElement(h,{signal:null==e?void 0:e.color}),t().createElement(v,{gearPosition:null==e?void 0:e.gearPosition}))}const N=t().memo(S);function y(e){return parseFloat(e.toFixed(1))}function A(e){var n,r=(0,a.f2)((function(e){return{"dashboard-speed-info":{display:"flex",flex:"1",flexDirection:"column",justifyContent:"center",alignItems:"center",background:e.components.dashBoard.cardBgColor,borderRadius:"6px",fontFamily:"PingFangSC-Semibold",fontSize:"14px",color:e.components.dashBoard.lightFontColor,width:"100%",height:"100%",paddingBottom:"16px"},"dashboard-speed-info-font":{height:"35px",fontFamily:"DINAlternate-Bold",fontSize:"30px",color:e.components.dashBoard.color,textAlign:"center"},"dashboard-speed-info-font-small":{height:"18px",fontFamily:"PingFangSC-Regular",fontSize:"12px",color:"#808B9D"},"dashboard-speed-brake":{display:"flex",justifyContent:"space-between"},"dashboard-speed-brake-words":{fontFamily:"PingFangSC-Regular",fontSize:"12px",color:"#A6B5CC"},"dashboard-speed-brake-number":{fontFamily:"PingFangSC-Regular",fontSize:"12px",color:"#808B9D"},"dashboard-speed-acc":{display:"flex",justifyContent:"space-between"},"dashboard-speed-acc-words":{fontFamily:"PingFangSC-Regular",fontSize:"12px",color:"#A6B5CC"},"dashboard-speed-acc-number":{fontFamily:"PingFangSC-Regular",fontSize:"12px",color:"#808B9D"},error:{color:e.tokens.colors.error2},info:{color:e.tokens.colors.brand3},warn:{color:e.tokens.colors.warn2}}}))().classes,o=(0,a.wR)().tokens;return t().createElement("div",{className:r["dashboard-speed-info"]},t().createElement("div",{style:{marginTop:10,marginBottom:10}},t().createElement("div",{className:r["dashboard-speed-info-font"]},void 0===(n=null==e?void 0:e.speed)||Number.isNaN(n)?0:Math.round(3.6*n)),t().createElement("span",{className:r["dashboard-speed-info-font-small"]},"Speed(km/h)")),t().createElement("div",{style:{height:"60px",width:"100%"}},t().createElement("div",{style:{width:"100%",padding:"0 16px 6px",height:"30px"}},t().createElement("div",{className:r["dashboard-speed-brake"]},t().createElement("span",{className:r["dashboard-speed-brake-words"]},"Brake"),t().createElement("span",{className:r["dashboard-speed-brake-number"]},"".concat(null!=e&&e.brakePercent?y(null==e?void 0:e.brakePercent):0,"%"))),t().createElement(u.ke,{style:{top:-6},strokeColor:"#F75660",trailColor:o.components.dashBoard.progressBgColor,strokeLinecap:"butt",percent:null!=e&&e.brakePercent?y(null==e?void 0:e.brakePercent):0,showInfo:!1})),t().createElement("div",{style:{width:"100%",padding:"0 16px 6px",height:"30px"}},t().createElement("div",{className:r["dashboard-speed-acc"]},t().createElement("span",{className:r["dashboard-speed-acc-words"]},"Accelerator"),t().createElement("span",{className:r["dashboard-speed-acc-number"]},"".concat(null!=e&&e.throttlePercent?y(null==e?void 0:e.throttlePercent):0,"%"))),t().createElement(u.ke,{style:{top:-6},strokeColor:"#3288FA",trailColor:o.components.dashBoard.progressBgColor,strokeLinecap:"butt",percent:null!=e&&e.throttlePercent?y(null==e?void 0:e.throttlePercent):0,showInfo:!1}))))}const x=t().memo(A);function R(e){var n=(0,a.f2)((function(e){return{"dashboard-rotation-info":{display:"flex",flex:"1",flexDirection:"column",justifyContent:"center",alignItems:"center",background:e.components.dashBoard.cardBgColor,borderRadius:"6px",fontFamily:"PingFangSC-Semibold",fontSize:"14px",color:e.components.dashBoard.lightFontColor,fontWeight:600,width:"100%",height:"100%",paddingBottom:"16px"},"dashboard-rotation-info-font":{height:"35px",fontFamily:"DINAlternate-Bold",fontSize:"30px",color:e.components.dashBoard.color,textAlign:"center"},"dashboard-rotation-info-font-small":{height:"18px",fontFamily:"PingFangSC-Regular",fontSize:"12px"},"dashboard-rotation-info-wheel":{display:"flex",alignItems:"center",height:"60px"},error:{color:e.tokens.colors.error2},info:{color:e.tokens.colors.brand3},warn:{color:e.tokens.colors.warn2}}}))().classes,r=(0,u.XE)("ic_aiming_circle"),l=(0,o.useMemo)((function(){return"LEFT"===(null==e?void 0:e.turnSignal)||"EMERGENCY"===(null==e?void 0:e.turnSignal)}),[null==e?void 0:e.turnSignal]),i=(0,o.useMemo)((function(){return"RIGHT"===(null==e?void 0:e.turnSignal)||"EMERGENCY"===(null==e?void 0:e.turnSignal)}),[null==e?void 0:e.turnSignal]),s=(0,o.useMemo)((function(){return void 0===(null==e?void 0:e.steeringPercentage)||Number.isNaN(null==e?void 0:e.steeringPercentage)?0:Math.round(null==e?void 0:e.steeringPercentage)}),[null==e?void 0:e.steeringPercentage]),c=(0,o.useMemo)((function(){return void 0===(null==e?void 0:e.steeringAngle)||Number.isNaN(null==e?void 0:e.steeringAngle)?0:-Math.round(180*(null==e?void 0:e.steeringAngle)/Math.PI)}),[null==e?void 0:e.steeringAngle]);return t().createElement("div",{className:n["dashboard-rotation-info"]},t().createElement("div",{style:{marginTop:10,marginBottom:10}},t().createElement("div",{className:n["dashboard-rotation-info-font"]},"".concat(s,"%")),t().createElement("span",{className:n["dashboard-rotation-info-font-small"]},"Rotation Ratio")),t().createElement("div",{className:n["dashboard-rotation-info-wheel"]},t().createElement(u.LY,{className:l?"turn-signal":"",style:{fontSize:16}}),t().createElement("img",{style:{marginLeft:10,marginRight:10,width:60,height:60,transform:"rotate(".concat(c,"deg)")},src:r,alt:""}),t().createElement(u.G_,{className:i?"turn-signal":"",style:{fontSize:16}})))}const G=t().memo(R);function D(e){var n,r,o,l,i,s,c=(0,a.f2)((function(e){return{"dash-board-speed-rotation":{display:"flex",flexDirection:"row",flex:"4.625",columnGap:"10px"},error:{color:e.tokens.colors.error2},info:{color:e.tokens.colors.brand3},warn:{color:e.tokens.colors.warn2}}}))().classes;return t().createElement("div",{className:c["dash-board-speed-rotation"]},t().createElement(x,{speed:null==e||null===(n=e.speedInfo)||void 0===n?void 0:n.speed,throttlePercent:null==e||null===(r=e.speedInfo)||void 0===r?void 0:r.throttlePercent,brakePercent:null==e||null===(o=e.speedInfo)||void 0===o?void 0:o.brakePercent}),t().createElement(G,{steeringPercentage:null==e||null===(l=e.rotationInfo)||void 0===l?void 0:l.steeringPercentage,steeringAngle:null==e||null===(i=e.rotationInfo)||void 0===i?void 0:i.steeringAngle,turnSignal:null==e||null===(s=e.rotationInfo)||void 0===s?void 0:s.turnSignal}))}const I=t().memo(D);var C=r(83517),w=r(27878);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function k(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,o=Array(n);r<n;r++)o[r]=e[r];return o}var O=function(e){return e.DISENGAGE_NONE="DISENGAGE_NONE",e[e.DISENGAGE_UNKNOWN=1]="DISENGAGE_UNKNOWN",e.DISENGAGE_MANUAL="DISENGAGE_MANUAL",e.DISENGAGE_EMERGENCY="DISENGAGE_EMERGENCY",e.DISENGAGE_AUTO_STEER_ONLY="DISENGAGE_AUTO_STEER_ONLY",e.DISENGAGE_AUTO_SPEED_ONLY="DISENGAGE_AUTO_SPEED_ONLY",e.DISENGAGE_CHASSIS_ERROR="DISENGAGE_CHASSIS_ERROR",e}(O||{});function _(e){switch(e){case O.DISENGAGE_MANUAL:return s.MANUAL;case O.DISENGAGE_NONE:return s.AUTO;case O.DISENGAGE_EMERGENCY:return s.DISENGAGED;case O.DISENGAGE_AUTO_STEER_ONLY:return s.AUTO_STEER;case O.DISENGAGE_AUTO_SPEED_ONLY:return s.AUTO_SPEED;case O.DISENGAGE_CHASSIS_ERROR:return s.CHASSIS_ERROR;default:return s.UNKNOWN}}function B(){var e,n,r,l,s,c,u,g,f,m,h,p=(0,C.d)().initSubscription,E=(m=(0,o.useState)({}),h=2,function(e){if(Array.isArray(e))return e}(m)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,t,a,l,i=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;s=!1}else for(;!(s=(o=a.call(r)).done)&&(i.push(o.value),i.length!==n);s=!0);}catch(e){c=!0,t=e}finally{try{if(!s&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw t}}return i}}(m,h)||function(e,n){if(e){if("string"==typeof e)return k(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,n):void 0}}(m,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=E[0],v=E[1],S=(0,o.useMemo)((function(){return{autoDrivingCar:null==b?void 0:b.autoDrivingCar,trafficSignal:null==b?void 0:b.trafficSignal}}),[b]),y=(0,a.f2)((function(e){return{"panel-dash-board":{display:"flex",flexDirection:"column",rowGap:"8px",height:"100%",width:"100%",minWidth:"380px",padding:"16px",background:e.components.dashBoard.bgColor},error:{color:e.tokens.colors.error2},info:{color:e.tokens.colors.brand3},warn:{color:e.tokens.colors.warn2}}}))().classes;return(0,o.useEffect)((function(){p(function(e,n,r){return(n=function(e){var n=function(e,n){if("object"!=P(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=P(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==P(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}({},i.lt.SIM_WORLD,{consumer:function(e){v(e)}}))}),[]),t().createElement(w.A,{className:y["panel-dash-board"]},t().createElement(d,{mode:_(null==S||null===(e=S.autoDrivingCar)||void 0===e?void 0:e.disengageType)}),t().createElement(N,{color:null==S||null===(n=S.trafficSignal)||void 0===n?void 0:n.currentSignal,gearPosition:null==S||null===(r=S.autoDrivingCar)||void 0===r?void 0:r.gearLocation}),t().createElement(I,{speedInfo:{speed:null==S||null===(l=S.autoDrivingCar)||void 0===l?void 0:l.speed,throttlePercent:null==S||null===(s=S.autoDrivingCar)||void 0===s?void 0:s.throttlePercentage,brakePercent:null==S||null===(c=S.autoDrivingCar)||void 0===c?void 0:c.brakePercentage},rotationInfo:{steeringPercentage:null==S||null===(u=S.autoDrivingCar)||void 0===u?void 0:u.steeringPercentage,steeringAngle:null==S||null===(g=S.autoDrivingCar)||void 0===g?void 0:g.steeringAngle,turnSignal:null==S||null===(f=S.autoDrivingCar)||void 0===f?void 0:f.currentSignal}}))}function F(e){var n=(0,o.useMemo)((function(){return(0,l.A)({PanelComponent:B,panelId:e.panelId,subscribeInfo:[{name:i.lt.SIM_WORLD,needChannel:!1}]})}),[]);return t().createElement(n,e)}B.displayName="DashBoard";var L=t().memo(F)}}]);