{"version":3,"file":"./734.bundle.js","mappings":"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","sources":["webpack:///./components/Navigation/WindowResizeControl.js","webpack:///./components/Navigation/index.js","webpack:///./utils/script_loader.js","webpack:///./components/Navigation/ lazy ^\\.\\/.*Adapter$ namespace object"],"sourcesContent":["import React from 'react';\n\nimport { MAP_SIZE } from 'store/dimension';\n\nexport default class WindowResizeControl extends React.PureComponent {\n  getMinimizingIcon() {\n    return (\n            <svg viewBox=\"0 0 20 20\">\n                <defs>\n                    <path d=\"M20 0L0 20h20V0z\" id=\"a\" />\n                    <path d=\"M11.53 18.5l-.03-7h7\" id=\"b\" />\n                    <path d=\"M12 12l7 7\" id=\"c\" />\n                </defs>\n                <use xlinkHref=\"#a\" opacity=\".8\" fill=\"#84b7FF\" />\n                <use xlinkHref=\"#b\" fillOpacity=\"0\" stroke=\"#006AFF\" strokeWidth=\"2\" />\n                <use xlinkHref=\"#c\" fillOpacity=\"0\" stroke=\"#006AFF\" strokeWidth=\"2\" />\n            </svg>\n    );\n  }\n\n  getMaximizingIcon() {\n    return (\n            <svg viewBox=\"0 0 20 20\">\n                <defs>\n                    <path d=\"M20 0L0 20h20V0z\" id=\"a\" />\n                    <path d=\"M18.47 11.5l.03 7h-7\" id=\"b\" />\n                    <path d=\"M11 11l7 7\" id=\"c\" />\n                </defs>\n                <use xlinkHref=\"#a\" opacity=\".8\" fill=\"#84b7FF\" />\n                <use xlinkHref=\"#b\" fillOpacity=\"0\" stroke=\"#006AFF\" strokeWidth=\"2\" />\n                <use xlinkHref=\"#c\" fillOpacity=\"0\" stroke=\"#006AFF\" strokeWidth=\"2\" />\n            </svg>\n    );\n  }\n\n  render() {\n    const { type, onClick } = this.props;\n\n    let icon = null;\n    switch (type) {\n      case MAP_SIZE.FULL:\n        icon = this.getMinimizingIcon();\n        break;\n      case MAP_SIZE.DEFAULT:\n        icon = this.getMaximizingIcon();\n        break;\n      default:\n        console.error('Unknown window size found:', type);\n        break;\n    }\n\n    return (\n            <div className=\"window-resize-control\" onClick={onClick}>\n                {icon}\n            </div>\n    );\n  }\n}\n","import React from 'react';\n\nimport MAP_NAVIGATOR from 'components/Navigation/MapNavigator';\nimport WS from 'store/websocket';\nimport { MAP_SIZE } from 'store/dimension';\nimport loadScriptAsync from 'utils/script_loader';\n\nimport WindowResizeControl from 'components/Navigation/WindowResizeControl';\n\nexport default class Navigation extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.scriptOnLoadHandler = this.scriptOnLoadHandler.bind(this);\n\n    if (!MAP_NAVIGATOR.mapAPILoaded) {\n      let onLoad = () => {\n        console.log('Map API script loaded.');\n      };\n      if (PARAMETERS.navigation.map === 'BaiduMap') {\n        // For Baidu Map, the callback function is set in the window Object level\n        window.initMap = this.scriptOnLoadHandler;\n      } else if (PARAMETERS.navigation.map === 'GoogleMap') {\n        // For Google Map, the callback function is set from the <Script>\n        onLoad = this.scriptOnLoadHandler;\n      }\n\n      loadScriptAsync({\n        url: PARAMETERS.navigation.mapAPiUrl,\n        onLoad,\n        onError: () => {\n          console.log('Failed to load map api');\n        },\n      });\n    }\n  }\n\n  componentDidMount() {\n    if (MAP_NAVIGATOR.mapAPILoaded) {\n      this.scriptOnLoadHandler();\n    }\n  }\n\n  componentDidUpdate() {\n    const { hasRoutingControls, size } = this.props;\n\n    if (hasRoutingControls && size === MAP_SIZE.FULL) {\n      MAP_NAVIGATOR.enableControls();\n    } else {\n      MAP_NAVIGATOR.disableControls();\n    }\n  }\n\n  scriptOnLoadHandler() {\n    import(`components/Navigation/${PARAMETERS.navigation.map}Adapter`).then(\n      (mapAdapterModule) => {\n        const MapAdapterClass = mapAdapterModule.default;\n        const mapAdapter = new MapAdapterClass();\n        MAP_NAVIGATOR.mapAPILoaded = true;\n        MAP_NAVIGATOR.initialize(WS, mapAdapter);\n        MAP_NAVIGATOR.disableControls();\n      },\n    );\n  }\n\n  componentWillUnmount() {\n    MAP_NAVIGATOR.reset();\n  }\n\n  render() {\n    const {\n      width, height, size, onResize,\n    } = this.props;\n\n    if (!['GoogleMap', 'BaiduMap'].includes(PARAMETERS.navigation.map)) {\n      console.error(`Map API ${PARAMETERS.navigation.map} is not supported.`);\n      return null;\n    }\n\n    return (\n            <div displayname=\"navigation\" className=\"navigation-view\" style={{ width, height }}>\n                <div id=\"map_canvas\" />\n                <WindowResizeControl type={size} onClick={onResize} />\n            </div>\n    );\n  }\n}\n","export default function loadScriptAsync({ url, onLoad, onError }) {\n  const script = document.createElement('script');\n  script.src = url;\n  script.type = 'text/javascript';\n  script.async = true;\n  script.onload = onLoad;\n  script.onerror = onError;\n  document.body.appendChild(script);\n}\n","var map = {\n\t\"./BaiduMapAdapter\": [\n\t\t89138,\n\t\t138\n\t],\n\t\"./GoogleMapAdapter\": [\n\t\t14970,\n\t\t970\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 51039;\nmodule.exports = webpackAsyncContext;"],"names":["WindowResizeControl","viewBox","d","id","xlinkHref","opacity","fill","fillOpacity","stroke","strokeWidth","this","props","type","onClick","icon","MAP_SIZE","FULL","getMinimizingIcon","DEFAULT","getMaximizingIcon","console","error","className","React","PureComponent","Navigation","scriptOnLoadHandler","bind","MAP_NAVIGATOR","mapAPILoaded","onLoad","log","PARAMETERS","navigation","map","window","initMap","loadScriptAsync","url","mapAPiUrl","onError","hasRoutingControls","size","enableControls","disableControls","then","mapAdapterModule","mapAdapter","MapAdapterClass","initialize","WS","reset","width","height","onResize","includes","displayname","style","Component","script","document","createElement","src","async","onload","onerror","body","appendChild","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","e","Error","code","ids","keys","Object","module","exports"],"sourceRoot":""}